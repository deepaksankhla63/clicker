#!/bin/bash
# ============================================
# ü™ü WINDOWS 10 DOCKER SETUP SCRIPT
# üíª Made by Deepak üî•
# ============================================

# Exit if any command fails
set -e

echo "===================================================="
echo "        üî• WINDOWS 10 DOCKER INSTALLER üî•           "
echo "              üí• MADE BY DEEPAK üí•                  "
echo "===================================================="

# Step 1: Become root user
echo "‚û°Ô∏è Switching to root..."
sudo su <<'EOF'

echo "===================================================="
echo "üîÑ UPDATING SYSTEM PACKAGES..."
echo "===================================================="
apt update -y

echo "===================================================="
echo "üêã INSTALLING DOCKER AND DOCKER-COMPOSE..."
echo "===================================================="
apt install -y docker.io docker-compose

echo "===================================================="
echo "üìÅ CREATING DOCKER PROJECT FOLDER..."
echo "===================================================="
mkdir -p ~/dockercom
cd ~/dockercom

echo "===================================================="
echo "üìù CREATING WINDOWS 10 DOCKER-COMPOSE FILE..."
echo "===================================================="

cat << 'YAML' > windows10.yml
services:
  windows:
    image: dockurr/windows
    container_name: windows
    environment:
      VERSION: "10"
      USERNAME: "SOURAV SEC"
      PASSWORD: "admin@123"
      RAM_SIZE: "4G"
      CPU_CORES: "4"
      DISK_SIZE: "400G"
      DISK2_SIZE: "100G"
    devices:
      - /dev/kvm
      - /dev/net/tun
    cap_add:
      - NET_ADMIN
    ports:
      - "8006:8006"
      - "3389:3389/tcp"
      - "3389:3389/udp"
    stop_grace_period: 2m
YAML

echo "===================================================="
echo "üöÄ STARTING WINDOWS 10 CONTAINER..."
echo "===================================================="

sudo docker-compose -f windows10.yml up -d

echo "===================================================="
echo "‚úÖ WINDOWS 10 CONTAINER SETUP COMPLETE!"
echo "üíª ACCESS USING RDP ON PORT 3389 (USER: SOURAV SEC / PASS: admin@123)"
echo "===================================================="
EOF
